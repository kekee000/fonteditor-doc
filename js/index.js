!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=4)}([function(t,n,e){var o=e(1);"string"==typeof o&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};e(3)(o,r);o.locals&&(t.exports=o.locals)},function(t,n,e){(t.exports=e(2)(!1)).push([t.i,'body {\n  font-family: "Microsoft YaHei", sans-serif;\n}\n.navbar-inverse .navbar-brand {\n  color: #FFF;\n}\n.navbar-inverse .forkme {\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  color: #FFF;\n}\n.fonteditor-container {\n  margin-top: 50px;\n}\n.sidebar-fonteditor {\n  position: fixed;\n  width: 200px;\n  margin: 15px;\n}\n.main-container {\n  margin: 15px 0 0 230px;\n  overflow: hidden;\n}\n.main-container section {\n  margin-top: 60px;\n}\n.main-container section .setting {\n  font-style: normal;\n  font-weight: bold;\n  color: #F00;\n}\n.main-container section em {\n  font-style: normal;\n  color: #F00;\n}\n.main-container section:first-child {\n  margin-top: 0;\n}\n',""])},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",o=t[3];if(!o)return e;if(n&&"function"==typeof btoa){var r=(s=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),i=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot).concat(t," */")}));return[e].concat(i).concat([r]).join("\n")}var s,a,c;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2],"{").concat(e,"}"):e})).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(var s=0;s<t.length;s++){var a=t[s];null!=a[0]&&o[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="(".concat(a[2],") and (").concat(e,")")),n.push(a))}},n}},function(t,n,e){"use strict";var o,r={},i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},s=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}();function a(t,n){for(var e=[],o={},r=0;r<t.length;r++){var i=t[r],s=n.base?i[0]+n.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(a):e.push(o[s]={id:s,parts:[a]})}return e}function c(t,n){for(var e=0;e<t.length;e++){var o=t[e],i=r[o.id],s=0;if(i){for(i.refs++;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(v(o.parts[s],n))}else{for(var a=[];s<o.parts.length;s++)a.push(v(o.parts[s],n));r[o.id]={id:o.id,refs:1,parts:a}}}}function l(t){var n=document.createElement("style");if(void 0===t.attributes.nonce){var o=e.nc;o&&(t.attributes.nonce=o)}if(Object.keys(t.attributes).forEach((function(e){n.setAttribute(e,t.attributes[e])})),"function"==typeof t.insert)t.insert(n);else{var r=s(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}return n}var h,u=(h=[],function(t,n){return h[t]=n,h.filter(Boolean).join("\n")});function f(t,n,e,o){var r=e?"":o.css;if(t.styleSheet)t.styleSheet.cssText=u(n,r);else{var i=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(i,s[n]):t.appendChild(i)}}function d(t,n,e){var o=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var p=null,m=0;function v(t,n){var e,o,r;if(n.singleton){var i=m++;e=p||(p=l(n)),o=f.bind(null,e,i,!1),r=f.bind(null,e,i,!0)}else e=l(n),o=d.bind(null,e,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return o(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;o(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).attributes="object"==typeof n.attributes?n.attributes:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=i());var e=a(t,n);return c(e,n),function(t){for(var o=[],i=0;i<e.length;i++){var s=e[i],l=r[s.id];l&&(l.refs--,o.push(l))}t&&c(a(t,n),n);for(var h=0;h<o.length;h++){var u=o[h];if(0===u.refs){for(var f=0;f<u.parts.length;f++)u.parts[f]();delete r[u.id]}}}}},function(t,n,e){"use strict";e.r(n);e(0);class o{static getScrollTop(){return window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop}constructor(t,n){this.main=t||window,this.throttle=n.throttle||50,this.selector=n.selector||"[data-anchor]",this.anchorOffset=n.anchorOffset||0,Object.assign(this,n),this._onScroll=this._onScroll.bind(this),this._scrollChange=this._scrollChange.bind(this),this.init()}_scrollChange(){let t=0;t=this.main===window?o.getScrollTop():this.main.scrollTop,this.onScrollChange&&this.onScrollChange({top:t,target:this.main});let n=this.anchorPos,e=n.length;for(;--e&&t<n[e][0];);let r=n[e][1],i=this.anchors[r];this.onAnchorChange&&this.onAnchorChange({top:t,target:i,anchor:i.attr("data-anchor")})}_onScroll(){clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this._scrollChange,this.throttle)}init(){let t=[],n=this.main===window?document.body:this.main;$(n).find(this.selector).each((function(n,e){t[n]=$(e)})),this.anchors=t,this.anchors.length&&(this.refresh(),this.start())}getAnchorPos(t){return t.offset().top+this.anchorOffset}refresh(){let t=this,n=[],e=0;$(this.anchors).each((function(o,r){"none"!==r.css("display")&&(n[e++]=[t.getAnchorPos(r),o])})),this.anchorPos=n.sort((t,n)=>t[0]-n[0])}start(){return this._binded||($(this.main).on("scroll",this._onScroll),this._binded=!0),this}stop(){return clearTimeout(this.scrollTimer),this._binded&&($(this.main).off("scroll",this._onScroll),this._binded=!1),this}check(){this._scrollChange()}dispose(){clearTimeout(this.scrollTimer),$(this.main).off("scroll",this._onScroll),this.anchors=null,this.anchorPos=null,this.main=null}}!function(){const t=$("#sidebar"),n=new o(window,{selector:"section[data-anchor]",anchorOffset:-71,onAnchorChange(n){t.find(".active").removeClass("active"),t.find('[href*="#'+n.anchor+'"]').addClass("active")}}),e=function(e){let o;e&&(o=$('[data-anchor="'+e+'"]')).length&&(n.stop(),function(t,n){n=Object.assign({top:0,duration:200,easing:"swing"},n);const e=window.chrome?document.documentElement:document.body;if(!n.noAnim)return $(e).animate({scrollTop:$(t).offset().top+n.top},n.duration,n.easing,n.onFinish);$(e).get(0).scrollTop=$(t).offset().top+n.top}(o,{top:-70,onFinish(){location.hash=e,t.find(".active").removeClass("active"),t.find('[href*="#'+e+'"]').addClass("active"),n.start()}}))};t.on("click","[href]",(function(t){t.preventDefault();let n=this.href.slice(this.href.lastIndexOf("#")+1);n&&e(n)})),$(window).on("load",(function(){n.refresh(),location.hash&&e(location.hash.slice(1))}))}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4ubGVzcz9mZjI3Iiwid2VicGFjazovLy8uL3NyYy9tYWluLmxlc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDMuMi4wQGNzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvX3N0eWxlLWxvYWRlckAxLjAuMEBzdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvQW5jaG9yRGV0ZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy91aS9zY3JvbGxUby5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbnRlbnQiLCJvcHRpb25zIiwibG9jYWxzIiwicHVzaCIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImNvbmNhdCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJpZCIsIl9pIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwibGlzdFRvU3R5bGVzIiwic3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInBhcnRzIiwiYWRkU3R5bGVzVG9Eb20iLCJkb21TdHlsZSIsImoiLCJyZWZzIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwib2JqIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJfZG9tU3R5bGUiLCJBbmNob3JEZXRlY3QiLCJwYWdlWU9mZnNldCIsImJvZHkiLCJzY3JvbGxUb3AiLCJkb2N1bWVudEVsZW1lbnQiLCJtYWluIiwidGhyb3R0bGUiLCJzZWxlY3RvciIsImFuY2hvck9mZnNldCIsImFzc2lnbiIsIl9vblNjcm9sbCIsIl9zY3JvbGxDaGFuZ2UiLCJpbml0IiwidG9wIiwiZ2V0U2Nyb2xsVG9wIiwib25TY3JvbGxDaGFuZ2UiLCJhbmNob3JQb3MiLCJjdXJyZW50IiwiYW5jaG9ycyIsIm9uQW5jaG9yQ2hhbmdlIiwiYW5jaG9yIiwiYXR0ciIsImNsZWFyVGltZW91dCIsInNjcm9sbFRpbWVyIiwic2V0VGltZW91dCIsIiQiLCJmaW5kIiwiZWFjaCIsInJlZnJlc2giLCJzdGFydCIsIm9mZnNldCIsIm1lIiwiZ2V0QW5jaG9yUG9zIiwic29ydCIsImEiLCJiIiwiX2JpbmRlZCIsIm9uIiwib2ZmIiwic2lkZWJhciIsImFuY2hvckRldGVjdCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzY3JvbGxUb0FuY2hvciIsImN0bEFuY2hvciIsInN0b3AiLCJ0b0VsZW1lbnQiLCJkdXJhdGlvbiIsImVhc2luZyIsImNvbnRhaW5lciIsImNocm9tZSIsIm5vQW5pbSIsImFuaW1hdGUiLCJvbkZpbmlzaCIsInNjcm9sbFRvIiwibG9jYXRpb24iLCJoYXNoIiwicHJldmVudERlZmF1bHQiLCJocmVmIiwic2xpY2UiLCJsYXN0SW5kZXhPZiJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNG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RUFBUXFKLE9BSVIsT0FBTzFCLEVBQUV3QixHQUFXRyxRQUNoQixDQUNJakQsVUFBV3NCLEVBQUVxQixHQUFXaEIsU0FBU2pCLElBQU0vRyxFQUFRK0csS0FFbkQvRyxFQUFRaUosU0FDUmpKLEVBQVFrSixPQUNSbEosRUFBUXVKLFVBVFo1QixFQUFFd0IsR0FBV3ZLLElBQUksR0FBR3lILFVBQVlzQixFQUFFcUIsR0FBV2hCLFNBQVNqQixJQUFNL0csRUFBUStHLElEUGhFeUMsQ0FBU1YsRUFBVyxDQUNoQi9CLEtBQU0sR0FDTixXQUNJMEMsU0FBU0MsS0FBT3BDLEVBQ2hCbUIsRUFBUWIsS0FBSyxXQUFXZSxZQUFZLFVBQ3BDRixFQUFRYixLQUFLLFlBQWNOLEVBQVMsTUFBTXNCLFNBQVMsVUFDbkRGLEVBQWFYLGFBTTdCVSxFQUFRRixHQUFHLFFBQVMsVUFBVSxTQUFVekYsR0FDcENBLEVBQUU2RyxpQkFDRixJQUFJRCxFQUFPcEosS0FBS3NKLEtBQUtDLE1BQU12SixLQUFLc0osS0FBS0UsWUFBWSxLQUFPLEdBQ3hESixHQUFRYixFQUFlYSxNQUczQi9CLEVBQUV4RixRQUFRb0csR0FBRyxRQUFRLFdBQ2pCRyxFQUFhWixVQUNUMkIsU0FBU0MsTUFDVGIsRUFBZVksU0FBU0MsS0FBS0csTUFBTSxPQUsvQyIsImZpbGUiOiJqcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsInZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDMuMi4wQGNzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL19sZXNzLWxvYWRlckA1LjAuMEBsZXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4ubGVzc1wiKTtcblxuaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG59XG5cbnZhciBvcHRpb25zID0ge31cblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9fc3R5bGUtbG9hZGVyQDEuMC4wQHN0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZiAoY29udGVudC5sb2NhbHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMy4yLjBAY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSB7XFxuICBmb250LWZhbWlseTogXFxcIk1pY3Jvc29mdCBZYUhlaVxcXCIsIHNhbnMtc2VyaWY7XFxufVxcbi5uYXZiYXItaW52ZXJzZSAubmF2YmFyLWJyYW5kIHtcXG4gIGNvbG9yOiAjRkZGO1xcbn1cXG4ubmF2YmFyLWludmVyc2UgLmZvcmttZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogNXB4O1xcbiAgdG9wOiA1cHg7XFxuICBjb2xvcjogI0ZGRjtcXG59XFxuLmZvbnRlZGl0b3ItY29udGFpbmVyIHtcXG4gIG1hcmdpbi10b3A6IDUwcHg7XFxufVxcbi5zaWRlYmFyLWZvbnRlZGl0b3Ige1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgd2lkdGg6IDIwMHB4O1xcbiAgbWFyZ2luOiAxNXB4O1xcbn1cXG4ubWFpbi1jb250YWluZXIge1xcbiAgbWFyZ2luOiAxNXB4IDAgMCAyMzBweDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcbi5tYWluLWNvbnRhaW5lciBzZWN0aW9uIHtcXG4gIG1hcmdpbi10b3A6IDYwcHg7XFxufVxcbi5tYWluLWNvbnRhaW5lciBzZWN0aW9uIC5zZXR0aW5nIHtcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgY29sb3I6ICNGMDA7XFxufVxcbi5tYWluLWNvbnRhaW5lciBzZWN0aW9uIGVtIHtcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGNvbG9yOiAjRjAwO1xcbn1cXG4ubWFpbi1jb250YWluZXIgc2VjdGlvbjpmaXJzdC1jaGlsZCB7XFxuICBtYXJnaW4tdG9wOiAwO1xcbn1cXG5cIiwgXCJcIl0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCJ7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IG1vZHVsZXNbX2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIihcIi5jb25jYXQoaXRlbVsyXSwgXCIpIGFuZCAoXCIpLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIilcIik7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCkuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucykge1xuICB2YXIgc3R5bGVzID0gW107XG4gIHZhciBuZXdTdHlsZXMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNzcyA9IGl0ZW1bMV07XG4gICAgdmFyIG1lZGlhID0gaXRlbVsyXTtcbiAgICB2YXIgc291cmNlTWFwID0gaXRlbVszXTtcbiAgICB2YXIgcGFydCA9IHtcbiAgICAgIGNzczogY3NzLFxuICAgICAgbWVkaWE6IG1lZGlhLFxuICAgICAgc291cmNlTWFwOiBzb3VyY2VNYXBcbiAgICB9O1xuXG4gICAgaWYgKCFuZXdTdHlsZXNbaWRdKSB7XG4gICAgICBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHBhcnRzOiBbcGFydF1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07XG4gICAgdmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG4gICAgdmFyIGogPSAwO1xuXG4gICAgaWYgKGRvbVN0eWxlKSB7XG4gICAgICBkb21TdHlsZS5yZWZzKys7XG5cbiAgICAgIGZvciAoOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBhcnRzID0gW107XG5cbiAgICAgIGZvciAoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcbiAgICAgIH1cblxuICAgICAgc3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7XG4gICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICByZWZzOiAxLFxuICAgICAgICBwYXJ0czogcGFydHNcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgb3B0aW9ucy5hdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMob3B0aW9ucy5hdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBvcHRpb25zLmF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5hdHRyaWJ1dGVzID0gdHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcyA9PT0gJ29iamVjdCcgPyBvcHRpb25zLmF0dHJpYnV0ZXMgOiB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICB2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuICBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICB2YXIgbWF5UmVtb3ZlID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07XG4gICAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuICAgICAgaWYgKGRvbVN0eWxlKSB7XG4gICAgICAgIGRvbVN0eWxlLnJlZnMtLTtcbiAgICAgICAgbWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXdMaXN0KSB7XG4gICAgICB2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgICAgYWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbWF5UmVtb3ZlLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9kb21TdHlsZSA9IG1heVJlbW92ZVtfaV07XG5cbiAgICAgIGlmIChfZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IF9kb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIF9kb21TdHlsZS5wYXJ0c1tqXSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHN0eWxlc0luRG9tW19kb21TdHlsZS5pZF07XG4gICAgICB9XG4gICAgfVxuICB9O1xufTsiLCIvKipcbiAqIEBmaWxlIEFuY2hvckRldGVjdC5qc1xuICogQGF1dGhvciBtZW5na2UwMSBodXNoaWNhaTAyXG4gKiBAZGF0ZVxuICogQGRlc2NyaXB0aW9uXG4gKiDmu5rliqjmo4DmtYvnu4Tku7bvvIznlKjmnaXmo4DmtYvmu5rliqjkuovku7ZcbiAqXG4gKi9cblxuLyoqXG4gKiDplJrngrnmo4DmtYvnu4Tku7ZcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG1haW4g6ZyA6KaB5qOA5rWL55qE5a+56LGhXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyDlj4LmlbDpm4blkIhcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnRocm90dGxlIOaIqua1geaXtumXtFxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc2VsZWN0b3Ig6ZSa54K56YCJ5oup5ZmoXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5hbmNob3JPZmZzZXQg6ZSa54K55YGP56e7XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU2Nyb2xsQ2hhbmdlIOa7muWKqOaUueWPmOS6i+S7tu+8jFxuICogICDlj4LmlbBl77yaZS50b3Ag5b2T5YmN5L2N572u77yMZS50YXJnZXQg5b2T5YmN5a+56LGhXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uQW5jaG9yQ2hhbmdlIOmUmueCueaUueWPmOS6i+S7tlxuICogICDlj4LmlbBl77yaZS50b3Ag5b2T5YmN5L2N572u77yMZS50YXJnZXQg5b2T5YmN5a+56LGh77yMZS5hbmNob3Ig5b2T5YmN5a+56LGh55qEYGRhdGEtYW5jaG9yYOWxnuaAp1xuICpcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmNob3JEZXRlY3Qge1xuXG4gICAgLyoqXG4gICAgICog6I635Y+W5rua5Yqo6auY5bqmXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IOmrmOW6puWAvFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRTY3JvbGxUb3AoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgICAgICAgICAgICB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcFxuICAgICAgICAgICAgICAgIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IobWFpbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluIHx8IHdpbmRvdztcbiAgICAgICAgdGhpcy50aHJvdHRsZSA9IG9wdGlvbnMudGhyb3R0bGUgfHwgNTA7IC8vIOiuvue9ruaIqua1geaXtumXtFxuICAgICAgICB0aGlzLnNlbGVjdG9yID0gb3B0aW9ucy5zZWxlY3RvciB8fCAnW2RhdGEtYW5jaG9yXSc7IC8vIOiuvue9rumUmueCuemAieaLqeWZqFxuICAgICAgICB0aGlzLmFuY2hvck9mZnNldCA9IG9wdGlvbnMuYW5jaG9yT2Zmc2V0IHx8IDA7IC8vIOmUmueCueeahOWBj+enu+mHj1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fb25TY3JvbGwgPSB0aGlzLl9vblNjcm9sbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9zY3JvbGxDaGFuZ2UgPSB0aGlzLl9zY3JvbGxDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgLy8g57uR5a6a5LqL5Lu25Yiw5pys5a+56LGhXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOmUmueCueS9jee9ruajgOafpVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2Nyb2xsQ2hhbmdlKCkge1xuICAgICAgICBsZXQgdG9wID0gMDtcblxuICAgICAgICAvLyDov5nph4zmo4Dmn6Xlr7nosaHmmK/lkKbkuLp3aW5kb3dcbiAgICAgICAgaWYgKHRoaXMubWFpbiA9PT0gd2luZG93KSB7XG4gICAgICAgICAgICB0b3AgPSBBbmNob3JEZXRlY3QuZ2V0U2Nyb2xsVG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0b3AgPSB0aGlzLm1haW4uc2Nyb2xsVG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vblNjcm9sbENoYW5nZSAmJiB0aGlzLm9uU2Nyb2xsQ2hhbmdlKHtcbiAgICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLm1haW5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGFuY2hvclBvcyA9IHRoaXMuYW5jaG9yUG9zO1xuICAgICAgICBsZXQgaSA9IGFuY2hvclBvcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKC0taSAmJiB0b3AgPCBhbmNob3JQb3NbaV1bMF0pIHtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbmRleCA9IGFuY2hvclBvc1tpXVsxXTtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmFuY2hvcnNbaW5kZXhdO1xuXG4gICAgICAgIHRoaXMub25BbmNob3JDaGFuZ2UgJiYgdGhpcy5vbkFuY2hvckNoYW5nZSh7XG4gICAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICAgIHRhcmdldDogY3VycmVudCxcbiAgICAgICAgICAgIGFuY2hvcjogY3VycmVudC5hdHRyKCdkYXRhLWFuY2hvcicpXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5rua5Yqo5qOA5p+lXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblNjcm9sbCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2Nyb2xsVGltZXIpO1xuICAgICAgICB0aGlzLnNjcm9sbFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9zY3JvbGxDaGFuZ2UsIHRoaXMudGhyb3R0bGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWIneWni+WMllxuICAgICAqL1xuICAgIGluaXQoKSB7XG4gICAgICAgIC8vIOafpeaJvumUmueCuVxuICAgICAgICBsZXQgYW5jaG9ycyA9IFtdO1xuICAgICAgICAvLyDlpoLmnpzmmK93aW5kb3flr7nosaHvvIzliJnku45kb2N1bWVudC5ib2R55p+l5om+6IqC54K5XG4gICAgICAgIGxldCBtYWluID0gdGhpcy5tYWluID09PSB3aW5kb3cgPyBkb2N1bWVudC5ib2R5IDogdGhpcy5tYWluO1xuICAgICAgICAkKG1haW4pLmZpbmQodGhpcy5zZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgICAgIGFuY2hvcnNbaW5kZXhdID0gJChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYW5jaG9ycyA9IGFuY2hvcnM7XG5cbiAgICAgICAgLy8g5aaC5p6c5pyJ6ZSa54K577yM5YiZ6Ieq5Yqo5byA5aeLXG4gICAgICAgIGlmICh0aGlzLmFuY2hvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiOt+W+l+mUmueCueeahOebuOWvueWdkOagh++8jFxuICAgICAqXG4gICAgICogQHBhcmFtIHtKcXVlcnl9IGFuY2hvciBqcXVlcnnlr7nosaFcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IOmUmueCueeahOWdkOagh+WAvFxuICAgICAqL1xuICAgIGdldEFuY2hvclBvcyhhbmNob3IpIHtcbiAgICAgICAgcmV0dXJuIGFuY2hvci5vZmZzZXQoKS50b3AgKyB0aGlzLmFuY2hvck9mZnNldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliLfmlrDplJrngrnnurXlnZDmoIdcbiAgICAgKi9cbiAgICByZWZyZXNoKCkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuICAgICAgICBsZXQgYW5jaG9yUG9zID0gW107XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgJCh0aGlzLmFuY2hvcnMpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICAgICAgICAvLyDlpoLmnpzplJrngrnlhYPntKDlj6/op4bvvIzliJnmo4DmtYvvvIzlkKbliJnkuI3mo4DmtYtcbiAgICAgICAgICAgIGlmICgnbm9uZScgIT09IGl0ZW0uY3NzKCdkaXNwbGF5JykpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JQb3NbaSsrXSA9IFttZS5nZXRBbmNob3JQb3MoaXRlbSksIGluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g6L+Z6YeM5Li65LqG5Yqg6YCf5qOA5rWL77yM5a+55Z2Q5qCH5LuO5bCP5Yiw5aSn6L+b6KGM5o6S5bqPXG4gICAgICAgIHRoaXMuYW5jaG9yUG9zID0gYW5jaG9yUG9zLnNvcnQoKGEsIGIpID0+IGFbMF0gLSBiWzBdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvIDlp4vmo4DmtYtcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FuY2hvckRldGVjdH0g5pys5a+56LGhXG4gICAgICovXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fYmluZGVkKSB7XG4gICAgICAgICAgICAkKHRoaXMubWFpbikub24oJ3Njcm9sbCcsIHRoaXMuX29uU2Nyb2xsKTtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YGc5q2i5qOA5rWLXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBbmNob3JEZXRlY3R9IOacrOWvueixoVxuICAgICAqL1xuICAgIHN0b3AoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNjcm9sbFRpbWVyKTtcbiAgICAgICAgaWYgKHRoaXMuX2JpbmRlZCkge1xuICAgICAgICAgICAgJCh0aGlzLm1haW4pLm9mZignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwpO1xuICAgICAgICAgICAgdGhpcy5fYmluZGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6aG16Z2i5Yi35paw5pe277yM5qOA5rWL6ZSa54K55L2N572uXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY2hlY2soKSB7XG4gICAgICAgIHRoaXMuX3Njcm9sbENoYW5nZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOazqOmUgOacrOWvueixoVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNjcm9sbFRpbWVyKTtcbiAgICAgICAgJCh0aGlzLm1haW4pLm9mZignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwpO1xuICAgICAgICB0aGlzLmFuY2hvcnMgPSBudWxsO1xuICAgICAgICB0aGlzLmFuY2hvclBvcyA9IG51bGw7XG4gICAgICAgIHRoaXMubWFpbiA9IG51bGw7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIEBmaWxlIG1haW4uanNcbiAqIEBhdXRob3IgbWVuZ2tlMDFcbiAqIEBkZXNjcmlwdGlvblxuICog5biu5Yqp5paH5qGj5YWl5Y+jXG4gKi9cbmltcG9ydCAnLi9tYWluLmxlc3MnO1xuaW1wb3J0IEFuY2hvckRldGVjdCBmcm9tICcuL3VpL0FuY2hvckRldGVjdCc7XG5pbXBvcnQgc2Nyb2xsVG8gZnJvbSAnLi91aS9zY3JvbGxUbyc7XG5mdW5jdGlvbiBtYWluKCkge1xuICAgIGNvbnN0IHNpZGViYXIgPSAkKCcjc2lkZWJhcicpO1xuICAgIGNvbnN0IGFuY2hvckRldGVjdCA9IG5ldyBBbmNob3JEZXRlY3Qod2luZG93LCB7XG4gICAgICAgIHNlbGVjdG9yOiAnc2VjdGlvbltkYXRhLWFuY2hvcl0nLFxuICAgICAgICBhbmNob3JPZmZzZXQ6IC03MSxcbiAgICAgICAgb25BbmNob3JDaGFuZ2UoZSkge1xuICAgICAgICAgICAgc2lkZWJhci5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgc2lkZWJhci5maW5kKCdbaHJlZio9XCIjJyArIGUuYW5jaG9yICsgJ1wiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc2Nyb2xsVG9BbmNob3IgPSBmdW5jdGlvbiAoYW5jaG9yKSB7XG4gICAgICAgIGxldCBjdGxBbmNob3I7XG4gICAgICAgIGlmIChhbmNob3IgJiYgKGN0bEFuY2hvciA9ICQoJ1tkYXRhLWFuY2hvcj1cIicgKyBhbmNob3IgKyAnXCJdJykpLmxlbmd0aCkge1xuICAgICAgICAgICAgYW5jaG9yRGV0ZWN0LnN0b3AoKTtcbiAgICAgICAgICAgIHNjcm9sbFRvKGN0bEFuY2hvciwge1xuICAgICAgICAgICAgICAgIHRvcDogLTcwLFxuICAgICAgICAgICAgICAgIG9uRmluaXNoKCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gYW5jaG9yO1xuICAgICAgICAgICAgICAgICAgICBzaWRlYmFyLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIHNpZGViYXIuZmluZCgnW2hyZWYqPVwiIycgKyBhbmNob3IgKyAnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JEZXRlY3Quc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzaWRlYmFyLm9uKCdjbGljaycsICdbaHJlZl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBoYXNoID0gdGhpcy5ocmVmLnNsaWNlKHRoaXMuaHJlZi5sYXN0SW5kZXhPZignIycpICsgMSk7XG4gICAgICAgIGhhc2ggJiYgc2Nyb2xsVG9BbmNob3IoaGFzaCk7XG4gICAgfSk7XG5cbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFuY2hvckRldGVjdC5yZWZyZXNoKCk7XG4gICAgICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgICAgICBzY3JvbGxUb0FuY2hvcihsb2NhdGlvbi5oYXNoLnNsaWNlKDEpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5tYWluKCk7XG4iLCIvKipcbiAqIEBmaWxlIHNjcm9sbFRvLmpzXG4gKiBAYXV0aG9yIG1lbmdrZTAxXG4gKiBAZGF0ZVxuICogQGRlc2NyaXB0aW9uXG4gKiDpobXpnaLmu5rliqjliLDmjIflrprlhYPntKBcbiAqL1xuXG4vKipcbiAqIOmhtemdoua7muWKqOWIsOaMh+WumuWFg+e0oFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRvRWxlbWVudCDmu5rliqjliLDnmoTlhYPntKBcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOWPguaVsOmAiemhuVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gb3B0aW9ucy5jb250YWluZXIg6ZyA6KaB5rua5Yqo55qE5YWD57Sg77yM6buY6K6kZG9jdW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnRvcCDnn6vmraPnmoR0b3Dlg4/ntKBcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmR1cmF0aW9uIOaMgee7reaXtumXtO+8jOm7mOiupDIwMG1zXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5lYXNpbmcg5Yqo55S7566X5a2Q77yM6buY6K6kYHN3aW5nYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5vbkZpbmlzaCDnu5PmnZ/ml7bnmoTkuovku7ZcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5ub0FuaW0g56aB55So5Yqo55S7XG4gKiBAcmV0dXJuIHtQcm9taXNlfSDliqjnlLvnmoRwcm9taXNl5a+56LGhXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNjcm9sbFRvKHRvRWxlbWVudCwgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgICAgIGVhc2luZzogJ3N3aW5nJ1xuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gd2luZG93LmNocm9tZSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGRvY3VtZW50LmJvZHk7XG4gICAgaWYgKG9wdGlvbnMubm9BbmltKSB7XG4gICAgICAgICQoY29udGFpbmVyKS5nZXQoMCkuc2Nyb2xsVG9wID0gJCh0b0VsZW1lbnQpLm9mZnNldCgpLnRvcCArIG9wdGlvbnMudG9wO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICQoY29udGFpbmVyKS5hbmltYXRlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJCh0b0VsZW1lbnQpLm9mZnNldCgpLnRvcCArIG9wdGlvbnMudG9wXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICAgIG9wdGlvbnMuZWFzaW5nLFxuICAgICAgICAgICAgb3B0aW9ucy5vbkZpbmlzaFxuICAgICAgICApO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=